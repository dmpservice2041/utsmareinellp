module.exports=[87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},47741,a=>{"use strict";var b=a.i(87924),c=a.i(70106);let d=(0,c.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),e=(0,c.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),f=(0,c.default)("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),g=(0,c.default)("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);function h({currentPage:a,totalPages:c,onPageChange:h}){let i=c>1,j=(()=>{let b=[];if(c<=5)for(let a=1;a<=c;a++)b.push(a);else if(a<=3){for(let a=1;a<=4;a++)b.push(a);b.push(-1),b.push(c)}else if(a>=c-2){b.push(1),b.push(-1);for(let a=c-3;a<=c;a++)b.push(a)}else b.push(1),b.push(-1),b.push(a-1),b.push(a),b.push(a+1),b.push(-1),b.push(c);return b})();return(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-6 py-4 border-t border-gray-200",children:[i&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>h(1),disabled:1===a,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"First page",children:(0,b.jsx)(f,{size:18})}),(0,b.jsx)("button",{onClick:()=>h(a-1),disabled:1===a,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Previous page",children:(0,b.jsx)(d,{size:18})}),j.map((c,d)=>-1===c?(0,b.jsx)("span",{className:"px-3 py-2 text-gray-400",children:"..."},`ellipsis-${d}`):(0,b.jsx)("button",{onClick:()=>h(c),className:`px-4 py-2 rounded-lg border transition-colors ${a===c?"bg-teal-600 text-white border-teal-600":"border-gray-300 hover:bg-gray-50"}`,children:c},c)),(0,b.jsx)("button",{onClick:()=>h(a+1),disabled:a===c,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Next page",children:(0,b.jsx)(e,{size:18})}),(0,b.jsx)("button",{onClick:()=>h(c),disabled:a===c,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Last page",children:(0,b.jsx)(g,{size:18})})]}),(0,b.jsx)("span",{className:`${i?"ml-4":""} text-sm text-gray-600 font-medium`,children:i?`Page ${a} of ${c}`:"Showing all items (Page 1)"})]})}a.s(["default",()=>h],47741)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},24569,a=>{"use strict";let b=(0,a.i(70106).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],24569)},77156,a=>{"use strict";let b=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},59008,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(70106);let e=(0,d.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var f=a.i(87532),g=a.i(81560),h=a.i(33508),i=a.i(38632);let j=(0,d.default)("file-image",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);var k=a.i(24569),l=a.i(77156);let m=(0,d.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var n=a.i(49445),o=a.i(47741);function p(){let[a,d]=(0,c.useState)([]),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)({alt_text:"",caption:""}),[D,E]=(0,c.useState)(!1),F=(0,c.useRef)(null),[G,H]=(0,c.useState)(1),[I,J]=(0,c.useState)(1);(0,c.useEffect)(()=>{H(1)},[t]),(0,c.useEffect)(()=>{K()},[t,G]);let K=async()=>{try{let a=new URLSearchParams;a.append("page",G.toString()),a.append("limit","20"),t&&a.append("search",t);let b=await fetch(`${n.API_ENDPOINTS.MEDIA}?${a.toString()}`,{credentials:"include"});if(b.ok){let a=await b.json();d(a.data),a.meta&&J(a.meta.pages||1)}}catch(a){console.error("Error fetching media:",a)}finally{q(!1)}},L=async a=>{if(!a||0===a.length)return;let b=a[0];await M(b)},M=async a=>{s(!0);try{let b=new FormData;b.append("file",a);let c=await fetch(n.API_ENDPOINTS.MEDIA_UPLOAD,{method:"POST",credentials:"include",body:b});if(c.ok)await K();else{let a=await c.json();alert(`Upload failed: ${a.error?.message||"Unknown error"}`)}}catch(a){console.error("Error uploading file:",a),alert("Upload failed")}finally{s(!1)}},N=a=>{a.preventDefault(),a.stopPropagation(),"dragenter"===a.type||"dragover"===a.type?E(!0):"dragleave"===a.type&&E(!1)},O=async b=>{if(confirm("Are you sure you want to delete this image?"))try{(await fetch(n.API_ENDPOINTS.MEDIA_ITEM(b),{method:"DELETE",credentials:"include"})).ok&&(d(a.filter(a=>a.id!==b)),y(!1))}catch(a){console.error("Error deleting media:",a)}},P=async()=>{if(v)try{(await fetch(n.API_ENDPOINTS.MEDIA_ITEM(v.id),{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)})).ok&&(await K(),A(!1),y(!1))}catch(a){console.error("Error updating media:",a)}},Q=a=>{w(a),C({alt_text:a.alt_text||"",caption:a.caption||""}),A(!0)},R=a=>{if(0===a)return"0 Bytes";let b=Math.floor(Math.log(a)/Math.log(1024));return Math.round(a/Math.pow(1024,b)*100)/100+" "+["Bytes","KB","MB","GB"][b]};return p?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading media..."})]})}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Media Library"}),(0,b.jsxs)("button",{onClick:()=>F.current?.click(),disabled:r,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 disabled:opacity-50 flex items-center gap-2",children:[(0,b.jsx)(e,{size:18}),r?"Uploading...":"Upload Image"]})]}),(0,b.jsxs)("div",{className:`mb-6 border-2 border-dashed rounded-lg p-8 text-center transition-colors ${D?"border-teal-500 bg-teal-50":"border-gray-300 bg-gray-50"}`,onDragEnter:N,onDragLeave:N,onDragOver:N,onDrop:a=>{a.preventDefault(),a.stopPropagation(),E(!1),a.dataTransfer.files&&a.dataTransfer.files[0]&&M(a.dataTransfer.files[0])},children:[(0,b.jsx)("input",{ref:F,type:"file",accept:"image/*",onChange:a=>L(a.target.files),className:"hidden"}),(0,b.jsx)(j,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-gray-600 mb-2",children:"Drag and drop images here, or click to select"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Supports JPG, PNG, GIF, WebP. Max 10MB. Auto-optimizes on upload."})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,b.jsx)("input",{type:"text",placeholder:"Search images...",value:t,onChange:a=>u(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})}),0===a.length?(0,b.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[(0,b.jsx)(i.Image,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-gray-500",children:t?"No images found":"No images uploaded yet"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:a.map(a=>(0,b.jsxs)("div",{className:"group relative bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[(0,b.jsxs)("div",{className:"aspect-square relative bg-gray-100",children:[(0,b.jsx)("img",{src:`http://localhost:5001${encodeURI(a.urls.thumbnail)}`,alt:a.alt_text||a.original_filename,className:"w-full h-full object-cover"}),(0,b.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100",children:[(0,b.jsx)("button",{onClick:()=>{w(a),y(!0)},className:"p-2 bg-white text-gray-700 rounded-lg hover:bg-gray-100",title:"Preview",children:(0,b.jsx)(l.Eye,{size:18})}),(0,b.jsx)("button",{onClick:()=>Q(a),className:"p-2 bg-white text-gray-700 rounded-lg hover:bg-gray-100",title:"Edit",children:(0,b.jsx)(k.Edit,{size:18})}),(0,b.jsx)("button",{onClick:()=>O(a.id),className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700",title:"Delete",children:(0,b.jsx)(g.Trash2,{size:18})})]})]}),(0,b.jsxs)("div",{className:"p-2",children:[(0,b.jsx)("p",{className:"text-xs text-gray-600 truncate",title:a.original_filename,children:a.original_filename}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:R(a.file_size)})]})]},a.id))}),(0,b.jsx)(o.default,{currentPage:G,totalPages:I,onPageChange:H})]}),x&&v&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-auto",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Image Preview"}),(0,b.jsx)("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,b.jsx)(h.X,{size:20})})]}),(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("img",{src:(0,n.getUploadUrl)(v.urls.optimized),alt:v.alt_text||v.original_filename,className:"w-full rounded-lg mb-4"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600",children:"Original Filename:"}),(0,b.jsx)("p",{className:"font-medium",children:v.original_filename})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600",children:"File Size:"}),(0,b.jsx)("p",{className:"font-medium",children:R(v.file_size)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600",children:"Dimensions:"}),(0,b.jsxs)("p",{className:"font-medium",children:[v.width," Ã— ",v.height]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600",children:"Mime Type:"}),(0,b.jsx)("p",{className:"font-medium",children:v.mime_type})]}),v.alt_text&&(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("p",{className:"text-gray-600",children:"Alt Text:"}),(0,b.jsx)("p",{className:"font-medium",children:v.alt_text})]}),v.caption&&(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("p",{className:"text-gray-600",children:"Caption:"}),(0,b.jsx)("p",{className:"font-medium",children:v.caption})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 mt-6",children:[(0,b.jsxs)("a",{href:(0,n.getUploadUrl)(v.urls.original),download:!0,className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:[(0,b.jsx)(m,{size:18}),"Download Original"]}),(0,b.jsxs)("button",{onClick:()=>Q(v),className:"flex items-center gap-2 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:[(0,b.jsx)(k.Edit,{size:18}),"Edit Metadata"]})]})]})]})}),z&&v&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Edit Image Metadata"}),(0,b.jsx)("button",{onClick:()=>A(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,b.jsx)(h.X,{size:20})})]}),(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alt Text"}),(0,b.jsx)("input",{type:"text",value:B.alt_text,onChange:a=>C({...B,alt_text:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500",placeholder:"Descriptive alt text for accessibility"})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caption"}),(0,b.jsx)("textarea",{value:B.caption,onChange:a=>C({...B,caption:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500",rows:3,placeholder:"Optional caption"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:P,className:"flex-1 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:"Save Changes"}),(0,b.jsx)("button",{onClick:()=>A(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})]})})]})}a.s(["default",()=>p],59008)}];

//# sourceMappingURL=_bbec578c._.js.map