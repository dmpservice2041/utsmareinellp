{"version":3,"sources":["../../../../../../../marinellpnew/apps/frontend/src/config/api.ts","../../../../../../../marinellpnew/apps/frontend/src/components/products/ProductInquiryForm.tsx","../../../../../../../marinellpnew/apps/frontend/src/components/products/ProductImage.tsx"],"sourcesContent":["/**\n * API Configuration\n * Uses environment variables with fallback to defaults\n */\n\nconst getBackendUrl = (): string => {\n  // In Next.js, environment variables prefixed with NEXT_PUBLIC_ are available on the client\n  if (typeof window !== 'undefined') {\n    // Client-side: use environment variable or default\n    return process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001';\n  }\n  // Server-side: use environment variable or default\n  return process.env.API_URL || process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001';\n};\n\nexport const API_BASE_URL = getBackendUrl();\n\nexport const API_ENDPOINTS = {\n  // Auth\n  LOGIN: `${API_BASE_URL}/api/auth/login`,\n  LOGOUT: `${API_BASE_URL}/api/auth/logout`,\n  FORGOT_PASSWORD: `${API_BASE_URL}/api/auth/forgot-password`,\n  RESET_PASSWORD: `${API_BASE_URL}/api/auth/reset-password`,\n  CHANGE_PASSWORD: `${API_BASE_URL}/api/auth/change-password`,\n  CHANGE_EMAIL: `${API_BASE_URL}/api/auth/change-email`,\n  GET_CURRENT_USER: `${API_BASE_URL}/api/auth/me`,\n  ENABLE_2FA: `${API_BASE_URL}/api/auth/2fa/enable`,\n  VERIFY_2FA_SETUP: `${API_BASE_URL}/api/auth/2fa/verify-setup`,\n  DISABLE_2FA: `${API_BASE_URL}/api/auth/2fa/disable`,\n  GET_2FA_STATUS: `${API_BASE_URL}/api/auth/2fa/status`,\n\n  // Admin Dashboard\n  DASHBOARD_STATS: `${API_BASE_URL}/api/admin/dashboard/stats`,\n\n  // Products (New Arrivals)\n  PRODUCTS: `${API_BASE_URL}/api/admin/new-arrivals`,\n  PRODUCT: (id: number | string) => `${API_BASE_URL}/api/admin/new-arrivals/${id}`,\n\n  // Blogs\n  BLOGS: `${API_BASE_URL}/api/admin/blogs`,\n  BLOG: (id: number | string) => `${API_BASE_URL}/api/admin/blogs/${id}`,\n\n  // Media\n  MEDIA: `${API_BASE_URL}/api/admin/media`,\n  MEDIA_UPLOAD: `${API_BASE_URL}/api/admin/media/upload`,\n  MEDIA_ITEM: (id: number | string) => `${API_BASE_URL}/api/admin/media/${id}`,\n\n  // Public\n  PUBLIC_PRODUCTS: `${API_BASE_URL}/api/new-arrivals`,\n  PUBLIC_PRODUCT_BY_SLUG: (slug: string) => `${API_BASE_URL}/api/new-arrivals/${slug}`,\n  PUBLIC_BLOGS: `${API_BASE_URL}/api/blogs`,\n  PUBLIC_BLOG_BY_SLUG: (slug: string) => `${API_BASE_URL}/api/blogs/${slug}`,\n\n  // Contact\n  CONTACT: `${API_BASE_URL}/api/contact`,\n};\n\n// Helper function to get upload URLs\nexport const getUploadUrl = (path: string): string => {\n  if (!path) return '';\n  // If path already starts with http, return as is (decode first to avoid double encoding)\n  if (path.startsWith('http://') || path.startsWith('https://')) {\n    try {\n      const url = new URL(path);\n      // Decode and re-encode to normalize, but don't double encode\n      const decodedPath = decodeURIComponent(url.pathname);\n      url.pathname = decodedPath.split('/').map(segment => encodeURIComponent(segment)).join('/');\n      return url.toString();\n    } catch {\n      return path;\n    }\n  }\n  // Otherwise, prepend backend URL and encode the path segments\n  const cleanPath = path.startsWith('/') ? path : `/${path}`;\n  // Decode first to avoid double encoding, then encode each segment\n  const decodedPath = decodeURIComponent(cleanPath);\n  const encodedPath = decodedPath.split('/').map(segment => {\n    // Don't encode empty segments (double slashes)\n    if (!segment) return '';\n    return encodeURIComponent(segment);\n  }).join('/');\n  return `${API_BASE_URL}${encodedPath}`;\n};\n","'use client';\n\nimport { useState } from 'react';\nimport { API_ENDPOINTS } from '@/config/api';\n\ninterface ProductInquiryFormProps {\n    productTitle: string;\n}\n\nexport default function ProductInquiryForm({ productTitle }: ProductInquiryFormProps) {\n    const [formData, setFormData] = useState({\n        name: '',\n        email: '',\n        message: '',\n    });\n    const [loading, setLoading] = useState(false);\n    const [success, setSuccess] = useState(false);\n    const [error, setError] = useState('');\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({\n            ...prev,\n            [name]: value,\n        }));\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setLoading(true);\n        setError('');\n        setSuccess(false);\n\n        try {\n            const response = await fetch(API_ENDPOINTS.CONTACT, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    name: formData.name,\n                    email: formData.email,\n                    subject: `Inquiry: ${productTitle}`,\n                    message: formData.message,\n                    productTitle: productTitle,\n                }),\n            });\n\n            const data = await response.json();\n\n            if (response.ok) {\n                setSuccess(true);\n                setFormData({ name: '', email: '', message: '' });\n                // Reset success message after 5 seconds\n                setTimeout(() => setSuccess(false), 5000);\n            } else {\n                setError(data.message || 'Failed to send message. Please try again.');\n            }\n        } catch (err) {\n            setError('Connection error. Please try again.');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"mt-auto bg-gradient-to-r from-teal-50 to-teal-100 border-2 border-teal-200 p-6 rounded-xl shadow-sm\">\n            <h3 className=\"text-xl font-bold text-teal-900 mb-2\">Interested in this part?</h3>\n            <p className=\"text-teal-800 mb-6 leading-relaxed text-sm\">\n                Fill out the form below and we'll get back to you with pricing and availability.\n            </p>\n\n            {success && (\n                <div className=\"mb-4 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg\">\n                    <p className=\"font-semibold\">âœ“ Message sent successfully!</p>\n                    <p className=\"text-sm mt-1\">We'll get back to you soon.</p>\n                </div>\n            )}\n\n            {error && (\n                <div className=\"mb-4 p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg\">\n                    <p className=\"font-semibold\">Error</p>\n                    <p className=\"text-sm mt-1\">{error}</p>\n                </div>\n            )}\n\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n                <div>\n                    <label htmlFor=\"name\" className=\"block text-sm font-medium text-teal-900 mb-2\">\n                        Your Name *\n                    </label>\n                    <input\n                        type=\"text\"\n                        id=\"name\"\n                        name=\"name\"\n                        value={formData.name}\n                        onChange={handleChange}\n                        required\n                        className=\"w-full px-4 py-2 border border-teal-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 outline-none bg-white\"\n                        placeholder=\"Enter your name\"\n                    />\n                </div>\n\n                <div>\n                    <label htmlFor=\"email\" className=\"block text-sm font-medium text-teal-900 mb-2\">\n                        Your Email *\n                    </label>\n                    <input\n                        type=\"email\"\n                        id=\"email\"\n                        name=\"email\"\n                        value={formData.email}\n                        onChange={handleChange}\n                        required\n                        className=\"w-full px-4 py-2 border border-teal-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 outline-none bg-white\"\n                        placeholder=\"your.email@example.com\"\n                    />\n                </div>\n\n                <div>\n                    <label htmlFor=\"message\" className=\"block text-sm font-medium text-teal-900 mb-2\">\n                        Your Message *\n                    </label>\n                    <textarea\n                        id=\"message\"\n                        name=\"message\"\n                        value={formData.message}\n                        onChange={handleChange}\n                        required\n                        rows={4}\n                        className=\"w-full px-4 py-2 border border-teal-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 outline-none bg-white resize-none\"\n                        placeholder=\"Tell us about your requirements, quantity needed, or any questions...\"\n                    />\n                </div>\n\n                <button\n                    type=\"submit\"\n                    disabled={loading}\n                    className=\"w-full flex items-center justify-center gap-2 px-8 py-4 bg-teal-600 text-white font-bold rounded-lg hover:bg-teal-700 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 disabled:bg-gray-400 disabled:cursor-not-allowed disabled:transform-none\"\n                >\n                    {loading ? (\n                        <>\n                            <svg className=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                            </svg>\n                            Sending...\n                        </>\n                    ) : (\n                        <>\n                            Submit Inquiry\n                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7l5 5m0 0l-5 5m5-5H6\" />\n                            </svg>\n                        </>\n                    )}\n                </button>\n            </form>\n        </div>\n    );\n}\n","'use client';\n\nimport { useState } from 'react';\n\ninterface ProductImageProps {\n    src: string;\n    alt: string;\n    className?: string;\n    style?: React.CSSProperties;\n}\n\nexport default function ProductImage({ src, alt, className = '', style }: ProductImageProps) {\n    const [imageError, setImageError] = useState(false);\n\n    return (\n        <>\n            {!imageError && (\n                <img \n                    src={src} \n                    alt={alt} \n                    className={className}\n                    style={style}\n                    onError={() => setImageError(true)}\n                />\n            )}\n            {imageError && (\n                <div className=\"no-image-placeholder absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200\">\n                    <svg className=\"w-24 h-24 text-gray-400 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                    </svg>\n                    <p className=\"text-lg font-medium text-gray-500\">No Image Available</p>\n                    <p className=\"text-sm text-gray-400 mt-2\">Product image will be displayed here</p>\n                </div>\n            )}\n        </>\n    );\n}\n"],"names":[],"mappings":"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"}