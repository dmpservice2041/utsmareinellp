{"version":3,"sources":["../../../../../../apps/frontend/src/config/api.ts","../../../../../../apps/frontend/src/components/shared/ScrollReveal.tsx/__nextjs-internal-proxy.mjs","../../../../../../apps/frontend/src/components/shared/BlogCard.tsx/__nextjs-internal-proxy.mjs","../../../../../../apps/frontend/src/app/%28main%29/blog/page.tsx"],"sourcesContent":["/**\n * API Configuration\n * Uses environment variables with fallback to defaults\n */\n\nconst getBackendUrl = (): string => {\n  // In Next.js, environment variables prefixed with NEXT_PUBLIC_ are available on the client\n  if (typeof window !== 'undefined') {\n    // Client-side: use environment variable or default\n    return process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001';\n  }\n  // Server-side: use environment variable or default\n  return process.env.API_URL || process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001';\n};\n\nexport const API_BASE_URL = getBackendUrl();\n\nexport const API_ENDPOINTS = {\n  // Auth\n  LOGIN: `${API_BASE_URL}/api/auth/login`,\n  LOGOUT: `${API_BASE_URL}/api/auth/logout`,\n  FORGOT_PASSWORD: `${API_BASE_URL}/api/auth/forgot-password`,\n  RESET_PASSWORD: `${API_BASE_URL}/api/auth/reset-password`,\n  CHANGE_PASSWORD: `${API_BASE_URL}/api/auth/change-password`,\n  CHANGE_EMAIL: `${API_BASE_URL}/api/auth/change-email`,\n  GET_CURRENT_USER: `${API_BASE_URL}/api/auth/me`,\n  ENABLE_2FA: `${API_BASE_URL}/api/auth/2fa/enable`,\n  VERIFY_2FA_SETUP: `${API_BASE_URL}/api/auth/2fa/verify-setup`,\n  DISABLE_2FA: `${API_BASE_URL}/api/auth/2fa/disable`,\n  GET_2FA_STATUS: `${API_BASE_URL}/api/auth/2fa/status`,\n\n  // Admin Dashboard\n  DASHBOARD_STATS: `${API_BASE_URL}/api/admin/dashboard/stats`,\n\n  // Products (New Arrivals)\n  PRODUCTS: `${API_BASE_URL}/api/admin/new-arrivals`,\n  PRODUCT: (id: number | string) => `${API_BASE_URL}/api/admin/new-arrivals/${id}`,\n\n  // Blogs\n  BLOGS: `${API_BASE_URL}/api/admin/blogs`,\n  BLOG: (id: number | string) => `${API_BASE_URL}/api/admin/blogs/${id}`,\n\n  // Media\n  MEDIA: `${API_BASE_URL}/api/admin/media`,\n  MEDIA_UPLOAD: `${API_BASE_URL}/api/admin/media/upload`,\n  MEDIA_ITEM: (id: number | string) => `${API_BASE_URL}/api/admin/media/${id}`,\n\n  // Public\n  PUBLIC_PRODUCTS: `${API_BASE_URL}/api/new-arrivals`,\n  PUBLIC_PRODUCT_BY_SLUG: (slug: string) => `${API_BASE_URL}/api/new-arrivals/${slug}`,\n  PUBLIC_BLOGS: `${API_BASE_URL}/api/blogs`,\n  PUBLIC_BLOG_BY_SLUG: (slug: string) => `${API_BASE_URL}/api/blogs/${slug}`,\n\n  // Contact\n  CONTACT: `${API_BASE_URL}/api/contact`,\n};\n\n// Helper function to get upload URLs\nexport const getUploadUrl = (path: string): string => {\n  if (!path) return '';\n  // If path already starts with http, return as is (decode first to avoid double encoding)\n  if (path.startsWith('http://') || path.startsWith('https://')) {\n    try {\n      const url = new URL(path);\n      // Decode and re-encode to normalize, but don't double encode\n      const decodedPath = decodeURIComponent(url.pathname);\n      url.pathname = decodedPath.split('/').map(segment => encodeURIComponent(segment)).join('/');\n      return url.toString();\n    } catch {\n      return path;\n    }\n  }\n  // Otherwise, prepend backend URL and encode the path segments\n  const cleanPath = path.startsWith('/') ? path : `/${path}`;\n  // Decode first to avoid double encoding, then encode each segment\n  const decodedPath = decodeURIComponent(cleanPath);\n  const encodedPath = decodedPath.split('/').map(segment => {\n    // Don't encode empty segments (double slashes)\n    if (!segment) return '';\n    return encodeURIComponent(segment);\n  }).join('/');\n  return `${API_BASE_URL}${encodedPath}`;\n};\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/apps/frontend/src/components/shared/ScrollReveal.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/frontend/src/components/shared/ScrollReveal.tsx\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/apps/frontend/src/components/shared/BlogCard.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/frontend/src/components/shared/BlogCard.tsx\",\n    \"default\",\n);\n","import Link from 'next/link';\nimport { API_ENDPOINTS, getUploadUrl } from '@/config/api';\nimport BlogCard from '@/components/shared/BlogCard';\nimport ScrollReveal from '@/components/shared/ScrollReveal';\n\nasync function getBlogs() {\n    try {\n        const res = await fetch(`${API_ENDPOINTS.PUBLIC_BLOGS}?limit=100`, {\n            next: { revalidate: 60 },\n            headers: {\n                'Content-Type': 'application/json',\n            }\n        });\n        if (!res.ok) return [];\n        const data = await res.json();\n        return data.data || [];\n    } catch (error) {\n        console.error('Error fetching blogs:', error);\n        return [];\n    }\n}\n\nexport default async function Blog() {\n    const blogs = await getBlogs();\n\n    return (\n        <main className=\"pt-24 sm:pt-28\">\n            {/* Banner Header */}\n            <section className=\"relative h-[400px] lg:h-[500px] overflow-hidden\">\n                <div\n                    className=\"absolute inset-0 bg-cover bg-center bg-no-repeat\"\n                    style={{ backgroundImage: \"url('https://images.unsplash.com/photo-1580910543623-1d9865672808?q=80&w=2070&auto=format&fit=crop')\" }}\n                >\n                    <div className=\"absolute inset-0 bg-gradient-to-r from-black/70 to-black/40\" />\n                </div>\n                <div className=\"relative z-10 h-full flex items-center justify-center\">\n                    <div className=\"container mx-auto px-4 text-center\">\n                        <ScrollReveal delay={0}>\n                            <div className=\"inline-block mb-6 px-6 py-3 bg-teal-500/20 backdrop-blur-sm rounded-full border border-teal-400/30\">\n                                <span className=\"text-teal-300 text-sm font-semibold uppercase tracking-wider\">Blog</span>\n                            </div>\n                            <h1 className=\"text-5xl lg:text-7xl font-bold text-white mb-6\">Our Blog</h1>\n                            <p className=\"text-xl text-gray-200 mb-6 max-w-2xl mx-auto\">\n                                Latest insights, news, and updates from the marine industry\n                            </p>\n                            <div className=\"flex justify-center text-sm text-gray-300 space-x-2\">\n                                <Link href=\"/\" className=\"hover:text-teal-400 transition-colors\">Home</Link>\n                                <span>/</span>\n                                <span className=\"text-white\">Blog</span>\n                            </div>\n                        </ScrollReveal>\n                    </div>\n                </div>\n            </section>\n\n            {/* Blogs Grid Section */}\n            <section className=\"py-20 lg:py-32 bg-gray-50 relative overflow-hidden\">\n                <div className=\"absolute top-0 left-0 w-96 h-96 bg-teal-100/30 rounded-full blur-3xl -translate-y-1/2 -translate-x-1/2\" />\n                <div className=\"absolute bottom-0 right-0 w-96 h-96 bg-blue-100/30 rounded-full blur-3xl translate-y-1/2 translate-x-1/2\" />\n\n                <div className=\"container mx-auto px-4 relative z-10\">\n                    {blogs.length > 0 ? (\n                        <>\n                            <ScrollReveal delay={0}>\n                                <div className=\"text-center mb-16\">\n                                    <span className=\"inline-block px-4 py-2 bg-teal-100 rounded-full text-teal-600 font-semibold tracking-wider uppercase text-sm mb-4\">\n                                        Latest Articles\n                                    </span>\n                                    <h2 className=\"text-4xl sm:text-5xl lg:text-6xl font-bold mt-4 text-gray-900\">\n                                        Blog Posts\n                                    </h2>\n                                    <p className=\"text-lg text-gray-600 mt-4 max-w-2xl mx-auto\">\n                                        Explore our collection of articles, insights, and industry updates\n                                    </p>\n                                </div>\n                            </ScrollReveal>\n\n                            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 lg:gap-8\">\n                                {blogs.map((blog: any, index: number) => {\n                                    // Pass the raw path, or empty string if no image - BlogCard will show placeholder\n                                    const imagePath = blog.featured_image && blog.featured_image.trim() !== ''\n                                        ? blog.featured_image\n                                        : '';\n\n                                    return (\n                                        <ScrollReveal key={blog.id} delay={index * 50}>\n                                            <BlogCard\n                                                title={blog.title}\n                                                excerpt={blog.excerpt || blog.short_description || ''}\n                                                date={blog.published_at || blog.createdAt || new Date().toISOString()}\n                                                image={imagePath}\n                                                slug={blog.slug}\n                                                category={blog.category || undefined}\n                                            />\n                                        </ScrollReveal>\n                                    );\n                                })}\n                            </div>\n                        </>\n                    ) : (\n                        <ScrollReveal delay={0}>\n                            <div className=\"text-center py-20\">\n                                <div className=\"inline-block mb-6 px-6 py-3 bg-gray-100 rounded-full\">\n                                    <span className=\"text-gray-600 text-sm font-semibold uppercase tracking-wider\">No Blogs</span>\n                                </div>\n                                <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">\n                                    No Blog Posts Available\n                                </h2>\n                                <p className=\"text-lg text-gray-600 max-w-2xl mx-auto\">\n                                    Check back soon for new articles!\n                                </p>\n                            </div>\n                        </ScrollReveal>\n                    )}\n                </div>\n            </section>\n        </main>\n    );\n}\n"],"names":[],"mappings":"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","ignoreList":[1,2]}